{"version":3,"file":"injectedReactShim.js","sources":["../node_modules/react-dom/client.js","../../../../../.nvm/versions/node/v20.5.0/lib/node_modules/@superblocksteam/cli/node_modules/@superblocksteam/react-shim/public/injectedReactShimShared.jsx","../../../../../.nvm/versions/node/v20.5.0/lib/node_modules/@superblocksteam/cli/node_modules/@superblocksteam/react-shim/public/injectedReactShim18.jsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * Detect and support multiple React version\n * this file is served by the user's code\n */\nimport React, { createElement } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nlet renderHelper;\nexport function setRenderHelper(helper) {\n  renderHelper = helper;\n}\n\n/** @type Array<React.ReactPortal> */\nconst portals = new Map();\n\nexport function registerPortal(Component, props, element, ccRenderingContext, SuperblocksCCReactContext) {\n  if (!ccRenderingContext) throw new TypeError(\"ccRenderingContext is required\");\n  const portal = createPortal(\n    <SuperblocksCCReactContext.Provider value={ccRenderingContext}>\n      <CustomComponentErrorBoundary componentRef={Component}>\n        <Component {...props} />\n      </CustomComponentErrorBoundary>\n    </SuperblocksCCReactContext.Provider>,\n    element,\n    ccRenderingContext.widgetId,\n  );\n  portals.set(ccRenderingContext.widgetId, portal);\n  renderHelper(createElement(React.Fragment, null, Array.from(portals.values())));\n};\nexport function removePortal(key) {\n  portals.delete(key);\n  renderHelper(createElement(React.Fragment, null, Array.from(portals.values())));\n}\n\nclass CustomComponentErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, errorDisplay: null };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    const errorDisplay = error ?? null;\n    return { hasError: true, errorDisplay };\n  }\n\n  componentDidCatch(error) {\n    console.error(error);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.componentRef !== this.props.componentRef) {\n      // Clear error boundary if component is changed\n      this.setState({ hasError: false, errorDisplay: null });\n    }\n  }\n\n  render() {\n    return (\n      <div style={{ height: \"100%\", width: \"100%\" }}>\n        {this.state.hasError && this.state.errorDisplay ? (\n          <div>\n            <p>\n              Component crashed.{\" \"}\n              <span\n                style={{ display: \"inline-block\", cursor: \"pointer\", color: \"#29bbff\" }}\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => {\n                  this.setState({ hasError: false, errorDisplay: null });\n                }}\n              >\n                Reload component\n              </span>\n            </p>\n            <pre>\n              {this.state.errorDisplay?.message}{\" \"}\n              {this.state.errorDisplay?.stack}\n            </pre>\n          </div>\n        ) : (\n          this.props.children\n        )}\n      </div>\n    );\n  }\n}\n\nexport { CustomComponentErrorBoundary };\n","import React, { createElement } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { setRenderHelper, registerPortal, removePortal } from \"./injectedReactShimShared\";\n\nlet isLoaded = false;\n\nexport function loadReact(rootEl) {\n  if (!isLoaded) {\n    const root = createRoot(rootEl);\n    root.render(createElement(React.Fragment));\n    setRenderHelper((component) => root.render(component));\n    isLoaded = true;\n  }\n\n  return { registerPortal, removePortal, React };\n};\n"],"names":["m","require$$0","createRoot","renderHelper","setRenderHelper","helper","portals","registerPortal","Component","props","element","ccRenderingContext","SuperblocksCCReactContext","portal","createPortal","jsx","CustomComponentErrorBoundary","createElement","React","removePortal","key","error","prevProps","jsxs","_a","_b","isLoaded","loadReact","rootEl","root","component"],"mappings":"gFAEIA,EAAIC,EAENC,EAAqBF,EAAE,WACDA,EAAE,YCE1B,IAAIG,EACG,SAASC,EAAgBC,EAAQ,CACvBF,EAAAE,CACjB,CAGA,MAAMC,MAAc,IAEb,SAASC,EAAeC,EAAWC,EAAOC,EAASC,EAAoBC,EAA2B,CACvG,GAAI,CAACD,EAA0B,MAAA,IAAI,UAAU,gCAAgC,EAC7E,MAAME,EAASC,EAAA,aACZC,MAAAH,EAA0B,SAA1B,CAAmC,MAAOD,EACzC,SAAAI,EAAA,IAACC,EAA6B,CAAA,aAAcR,EAC1C,SAACO,EAAAA,IAAAP,EAAA,CAAW,GAAGC,CAAO,CAAA,CACxB,CAAA,EACF,EACAC,EACAC,EAAmB,QAAA,EAEbL,EAAA,IAAIK,EAAmB,SAAUE,CAAM,EAClCV,EAAAc,EAAA,cAAcC,EAAM,SAAU,KAAM,MAAM,KAAKZ,EAAQ,OAAQ,CAAA,CAAC,CAAC,CAChF,CACO,SAASa,EAAaC,EAAK,CAChCd,EAAQ,OAAOc,CAAG,EACLjB,EAAAc,EAAA,cAAcC,EAAM,SAAU,KAAM,MAAM,KAAKZ,EAAQ,OAAQ,CAAA,CAAC,CAAC,CAChF,CAEA,MAAMU,UAAqCE,EAAM,SAAU,CACzD,YAAYT,EAAO,CACjB,MAAMA,CAAK,EACX,KAAK,MAAQ,CAAE,SAAU,GAAO,aAAc,KAChD,CAEA,OAAO,yBAAyBY,EAAO,CAG9B,MAAA,CAAE,SAAU,GAAM,aADJA,GAAS,KAEhC,CAEA,kBAAkBA,EAAO,CACvB,QAAQ,MAAMA,CAAK,CACrB,CAEA,mBAAmBC,EAAW,CACxBA,EAAU,eAAiB,KAAK,MAAM,cAExC,KAAK,SAAS,CAAE,SAAU,GAAO,aAAc,KAAM,CAEzD,CAEA,QAAS,SACP,aACG,MAAI,CAAA,MAAO,CAAE,OAAQ,OAAQ,MAAO,QAClC,SAAA,KAAK,MAAM,UAAY,KAAK,MAAM,oBAChC,MACC,CAAA,SAAA,CAAAC,OAAC,IAAE,CAAA,SAAA,CAAA,qBACkB,IACnBR,EAAA,IAAC,OAAA,CACC,MAAO,CAAE,QAAS,eAAgB,OAAQ,UAAW,MAAO,SAAU,EACtE,KAAK,SACL,SAAU,EACV,QAAS,IAAM,CACb,KAAK,SAAS,CAAE,SAAU,GAAO,aAAc,KAAM,CACvD,EACD,SAAA,kBAAA,CAED,CAAA,EACF,SACC,MACE,CAAA,SAAA,EAAAS,EAAA,KAAK,MAAM,eAAX,YAAAA,EAAyB,QAAS,KAClCC,EAAA,KAAK,MAAM,eAAX,YAAAA,EAAyB,KAAA,EAC5B,CACF,CAAA,CAAA,EAEA,KAAK,MAAM,QAEf,CAAA,CAEJ,CACF,CClFA,IAAIC,EAAW,GAER,SAASC,EAAUC,EAAQ,CAChC,GAAI,CAACF,EAAU,CACP,MAAAG,EAAO3B,EAAW0B,CAAM,EAC9BC,EAAK,OAAOZ,EAAAA,cAAcC,EAAM,QAAQ,CAAC,EACzCd,EAAiB0B,GAAcD,EAAK,OAAOC,CAAS,CAAC,EAC1CJ,EAAA,EACb,CAEO,MAAA,CAAE,eAAAnB,EAAgB,aAAAY,EAAc,MAAAD,EACzC","x_google_ignoreList":[0,1,2]}